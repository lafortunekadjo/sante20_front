<div class="profile-edit-container">
      <h1 class="page-title">Modification du Profil</h1>
      <mat-card class="profile-card">
        <mat-card-header>
          <mat-card-title class="card-title">Mettre à jour vos informations</mat-card-title>
          <mat-card-subtitle class="card-subtitle">Modifiez vos détails personnels et sauvegardez les changements</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <div *ngIf="isLoading" class="loading-container">
            <mat-spinner diameter="40"></mat-spinner>
            <p class="loading-text">Chargement des données...</p>
          </div>
          <div *ngIf="!isLoading">
            <form [formGroup]="profileForm" (ngSubmit)="saveProfile()" class="profile-form">
              <div class="user-info-section">
                <h3 class="section-title">Informations Utilisateur</h3>
                <div class="form-grid">
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Nom d'utilisateur</mat-label>
                    <input matInput formControlName="username" required>
                    <mat-error *ngIf="profileForm.get('username')?.hasError('required')">Le nom d'utilisateur est requis</mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Email</mat-label>
                    <input matInput type="email" formControlName="email">
                    <mat-error *ngIf="profileForm.get('email')?.hasError('required')">L'email est requis</mat-error>
                    <mat-error *ngIf="profileForm.get('email')?.hasError('email')">Email invalide</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="member-info-section">
                <h3 class="section-title">Informations Membre</h3>
                <div class="form-grid">
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Nom</mat-label>
                    <input matInput formControlName="nom" required>
                    <mat-error *ngIf="profileForm.get('nom')?.hasError('required')">Le nom est requis</mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Prénom</mat-label>
                    <input matInput formControlName="prenom">
                    <mat-error *ngIf="profileForm.get('prenom')?.hasError('required')">Le prénom est requis</mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Date de naissance</mat-label>
                    <input matInput type="date" formControlName="date_naissance">
                    <mat-error *ngIf="profileForm.get('date_naissance')?.hasError('required')">La date de naissance est requise</mat-error>
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Poste</mat-label>
                    <input matInput formControlName="poste">
                  </mat-form-field>
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Sexe</mat-label>
                    <mat-select formControlName="sexe" required>
                      <mat-option value="feminin">Feminin</mat-option>
                      <mat-option value="masculin">Masculin</mat-option>
                    </mat-select>
                    <mat-error *ngIf="profileForm.get('sexe')?.hasError('required')">Le sexe est requis</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="action-buttons">
                <button mat-raised-button color="primary" type="submit" [disabled]="profileForm.invalid" class="save-button">
                  Enregistrer
                </button>
                <button mat-raised-button color="warn" type="button" (click)="cancelEdit()" class="cancel-button">
                  Annuler
                </button>
              </div>
            </form>
          </div>
        </mat-card-content>
      </mat-card>
    </div>